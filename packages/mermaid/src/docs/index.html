<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>
      mermaid - Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams,
      gantt charts and git graphs.
    </title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta
      name="description"
      content="Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs."
    />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta property="og:title" content="Mermaid" />
    <meta property="og:url" content="https://mermaid-js.github.io/mermaid/" />
    <meta property="og:image" content="https://mermaid-js.github.io/mermaid/img/header.png" />
    <meta
      property="og:description"
      content="Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs."
    />
    <meta property="og:type" content="website" />
    <!-- <link rel="stylesheet" href="//unpkg.com/docsify/lib/themes/vue.css"> -->
    <link rel="stylesheet" href="theme.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    />
    <script
      defer
      data-domain="mermaid-js.github.io"
      src="https://plausible.io/js/plausible.js"
    ></script>
    <script>
      const require = {
        paths: { vs: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.0/min/vs' },
      };
    </script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/loader.min.js"
      integrity="sha512-6bIYsGqvLpAiEBXPdRQeFf5cueeBECtAKJjIHer3BhBZNTV3WLcLA8Tm3pDfxUwTMIS+kAZwTUvJ1IrMdX8C5w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/editor/editor.main.nls.min.js"
      integrity="sha512-CCv+DKWw+yZhxf4Z+ExT6HC5G+3S45TeMTYcJyYbdrv4BpK2vyALJ4FoVR/KGWDIPu7w4tNCOC9MJQIkYPR5FA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/editor/editor.main.min.js"
      integrity="sha512-u4eMtetNbBJvHXdLXs2kWZvJiVlg3cmkVcxrLzSPa1eNFuHygPYvyMWyK9PsD6Eq2MZSo+mTyjds8uuhPzVxHA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script>
      exports = {};
    </script>
    <script src="https://unpkg.com/monaco-mermaid/browser.js"></script>

    <style>
      .markdown-section {
        max-width: 1200px;
      }
    </style>
  </head>

  <body>
    <div id="app"></div>
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@<MERMAID_VERSION>/dist/mermaid.esm.min.mjs';
      window.mermaid = mermaid;
    </script>
    <script>
      let initEditor = exports.default;
      let parser = new DOMParser();
      let currentCodeExample = 0;
      let colorize = [];
      let num = 0;

      function colorizeEverything(html) {
        initEditor(monaco);
        return new Promise((resolve, reject) => {
          monaco.editor.setTheme('mermaid');
          const parsed = parser.parseFromString(html, 'text/html').body;
          Promise.all(
            [...parsed.querySelectorAll('pre[id*="code"]')].map((codeBlock) =>
              monaco.editor.colorize(codeBlock.innerText, 'mermaid')
            )
          ).then((result) => {
            parsed
              .querySelectorAll('pre[id*="code"]')
              .forEach((codeBlock, index) => (codeBlock.innerHTML = result[index]));
            resolve(parsed.innerHTML);
          });
        });
      }

      function escapeHTML(html) {
        return html
          .replaceAll('&', '&amp;')
          .replaceAll('<', '&lt;')
          .replaceAll('>', '&gt;')
          .replaceAll('"', '&quot;')
          .replaceAll("'", '&apos;');
      }

      window.$docsify = {
        search: 'auto',
        name: 'mermaid',
        repo: 'https://github.com/mermaid-js/mermaid',
        loadSidebar: true,
        mergeNavbar: true,
        maxLevel: 4,
        subMaxLevel: 2,
        markdown: {
          renderer: {
            code: function (code, lang) {
              if (lang === 'mermaid-example') {
                currentCodeExample++;
                colorize.push(currentCodeExample);
                return '<pre id="code' + currentCodeExample + '">' + escapeHTML(code) + '</pre>';
              } else if (lang === 'mermaid') {
                // TODO: This will need to be updated when render is async.
                return (
                  '<pre class="mermaid">' + mermaid.render('mermaid-svg-' + num++, code) + '</pre>'
                );
              }
              return this.origin.code.apply(this, arguments);
            },
            heading: function (text) {
              if (text.includes('THIS IS AN AUTOGENERATED FILE. DO NOT EDIT')) {
                return '';
              }
              return this.origin.heading.apply(this, arguments);
            },
          },
        },
        plugins: [
          function (hook, vm) {
            hook.beforeEach(function (html) {
              url = 'https://github.com/mermaid-js/mermaid/blob/develop/src/docs/' + vm.route.file;
              const editHtml = '[:memo: Edit this Page](' + url + ')\n';
              return editHtml + html;
            });

            hook.afterEach(function (html, next) {
              next(html);
              (async () => {
                while (!window.hasOwnProperty('monaco')) {
                  await new Promise((resolve) => setTimeout(resolve, 1000));
                }
                colorizeEverything(html).then(
                  (newHTML) =>
                    (document.querySelector('article.markdown-section').innerHTML = newHTML)
                );
              })();
            });
          },
        ],
      };

      const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;

      const conf = {
        logLevel: 4,
        startOnLoad: false,
        themeCSS: '.label { font-family: Source Sans Pro,Helvetica Neue,Arial,sans-serif; }',
      };
      if (isDarkMode) {
        conf.theme = 'dark';
      }
      mermaid.initialize(conf);
    </script>
    <script>
      window.onhashchange = function (a) {
        //code
        if (location) {
          ga('send', 'pageview', location.hash);
        }
      };
    </script>
    <script src="//cdn.jsdelivr.net/npm/docsify/lib/docsify.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/ga.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-coffeescript.min.js"></script>
  </body>
</html>
